<Page x:Class="UrineAnalyzer.ResultSettingPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:UrineAnalyzer"
      mc:Ignorable="d" 
      d:DesignHeight="800" d:DesignWidth="1000"
      Title="ResultSettingPage" FontSize="16" Loaded="Page_Loaded" Unloaded="Page_Unloaded">

    <Canvas Background="White" Margin="5,5,5,5">
        <TextBlock Text="单位选择" Canvas.Left="38" Canvas.Top="27"/>
        <ComboBox Name="cbUnitTypeList" Canvas.Left="118" DisplayMemberPath="Caption" Canvas.Top="25" Width="205" SelectionChanged="cbUnitTypeList_SelectionChanged" />
        
        <GroupBox Header="检测项目" Height="601" Width="469" Canvas.Left="18" Canvas.Top="62">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition Width="120"/>
                </Grid.ColumnDefinitions>

                <DataGrid Name="dgItemInfo" Margin="2,2,2,2" AutoGenerateColumns="False" CanUserAddRows="False" CanUserDeleteRows="False" BorderBrush="LightGray" VerticalGridLinesBrush="LightGray" HorizontalGridLinesBrush="LightGray" SelectionChanged="dgItemInfo_SelectionChanged" CellEditEnding="dgItemInfo_CellEditEnding">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="检测项目" Binding="{Binding Name}" IsReadOnly="True"/>
                        <DataGridTextColumn Header="项目名称" Binding="{Binding Caption}" IsReadOnly="True"/>
                        <DataGridTextColumn Header="单位" Width="80" Binding="{Binding Unit}"/>
                        <DataGridTextColumn Header="参考范围" Width="80" Binding="{Binding Range}"/>
                    </DataGrid.Columns>
                </DataGrid>

                <StackPanel Grid.Column="1">
                    <Button Name="btnItemInfoSave" Content="保存" Style="{StaticResource DialogButton}" Height="30" Margin="5,15,5,5" Click="btnItemInfoSave_Click"/>
                </StackPanel>
            </Grid>
        </GroupBox>
        <GroupBox Header="项目取值" Canvas.Left="500" Canvas.Top="62" Height="601" Width="372">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition Width="120"/>
                </Grid.ColumnDefinitions>
                <DataGrid Name="dgItemResult" Margin="2,2,2,2" CanUserAddRows="False" CanUserDeleteRows="False" BorderBrush="LightGray" VerticalGridLinesBrush="LightGray" HorizontalGridLinesBrush="LightGray" CellEditEnding="dgItemResult_CellEditEnding" MouseLeftButtonUp="dgItemResult_MouseLeftButtonUp" AutoGenerateColumns="False">
                    <DataGrid.Columns>
                        <DataGridCheckBoxColumn Header="异常" Binding="{Binding IsAbnormal,Mode=TwoWay}" Width="80" IsReadOnly="True"/>
                        <DataGridTextColumn Header="结果" Binding="{Binding Result}" Width="*"/>
                    </DataGrid.Columns>

                </DataGrid>

                <StackPanel Grid.Column="1">
                    <Button Name="btnResultAdd" Content="添加" Style="{StaticResource DialogButton}" Height="30" Margin="5,15,5,5" Click="btnResultAdd_Click"/>
                    <Button Name="btnResultDelete" Content="删除" Style="{StaticResource DialogButton}" Height="30" Margin="5,5,5,5" Click="btnResultDelete_Click"/>
                    <Button Name="btnResultSave" Content="保存" Style="{StaticResource DialogButton}" Height="30" Margin="5,5,5,5" Click="btnResultSave_Click"/>
                </StackPanel>
            </Grid>
        </GroupBox>
    </Canvas>
</Page>
